#!/usr/bin/env ruby

require_relative "../lib/location_sql_maker"
require 'trollop'

opts = Trollop::options do
  opt :stations_file, "File containing stations", :default => "stations/stations.txt"
end

def run_command opts
  stations_file = opts[:stations_file]
  stations = File.open(stations_file).to_a.map { |station| station.gsub!("\n", "")}
  maker = LocationSqlMaker.new(stations)
  maker.make_sql
end

puts run_command(opts).join("\n")
